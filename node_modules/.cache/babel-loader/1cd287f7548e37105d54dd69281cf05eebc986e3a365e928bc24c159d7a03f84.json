{"ast":null,"code":"import _regeneratorRuntime from \"/home/merna-zakaria/projects/self-learning-projects/vue_register_project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/merna-zakaria/projects/self-learning-projects/vue_register_project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport { computed } from 'vue';\nimport { useStore } from 'vuex';\nimport { Form, Field } from 'vee-validate';\nimport * as yup from 'yup';\nimport TextField from \"@/components/controls/textField\";\nexport default {\n  __name: 'SignupView',\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var store = useStore();\n    var loading = computed(function () {\n      return store.state.auth.loading;\n    });\n    var schema = yup.object({\n      fullName: yup.string().required('الاسم مطلوب'),\n      gender: yup.string().required('يرجى اختيار الجنس'),\n      city: yup.string().required('المدينة مطلوبة'),\n      idNumber: yup.string().required('الهوية مطلوبة'),\n      birthDate: yup.date().required('تاريخ الميلاد مطلوب'),\n      phone: yup.string().required('رقم الهاتف مطلوب').matches(/^(\\+?\\d{8,15})$/, 'رقم هاتف غير صالح'),\n      email: yup.string().email('البريد الإلكتروني غير صالح').required('البريد الإلكتروني مطلوب'),\n      password: yup.string().min(6, 'كلمة المرور يجب أن تكون 6 أحرف على الأقل').required('كلمة المرور مطلوبة'),\n      confirmPassword: yup.string().oneOf([yup.ref('password')], 'كلمة المرور غير متطابقة').required('تأكيد كلمة المرور مطلوب'),\n      acceptTerms: yup[\"boolean\"]().oneOf([true], 'يجب قبول الشروط والأحكام')\n    });\n    var handleSignup = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(values) {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log('values', values);\n                _context.next = 3;\n                return store.dispatch('auth/register', values);\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return function handleSignup(_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    var __returned__ = {\n      store: store,\n      loading: loading,\n      schema: schema,\n      handleSignup: handleSignup,\n      computed: computed,\n      get useStore() {\n        return useStore;\n      },\n      get Form() {\n        return Form;\n      },\n      get Field() {\n        return Field;\n      },\n      get yup() {\n        return yup;\n      },\n      get TextField() {\n        return TextField;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"mappings":";;;AAoLA,SAASA,QAAQ,QAAQ,KAAI;AAC7B,SAASC,QAAQ,QAAQ,MAAK;AAC9B,SAASC,IAAI,EAAEC,KAAK,QAAQ,cAAa;AACzC,OAAO,KAAKC,GAAG,MAAM,KAAI;AACzB,OAAOC,SAAS,MAAM,iCAAiC;;;;;;IAEvD,IAAMC,KAAK,GAAGL,QAAQ,EAAC;IACvB,IAAMM,OAAO,GAAGP,QAAQ,CAAC;MAAA,OAAMM,KAAK,CAACE,KAAK,CAACC,IAAI,CAACF,OAAO;IAAA;IAEvD,IAAMG,MAAM,GAAGN,GAAG,CAACO,MAAM,CAAC;MACxBC,QAAQ,EAAER,GAAG,CAACS,MAAM,EAAE,CAACC,QAAQ,CAAC,aAAa,CAAC;MAC9CC,MAAM,EAAEX,GAAG,CAACS,MAAM,EAAE,CAACC,QAAQ,CAAC,mBAAmB,CAAC;MAClDE,IAAI,EAAEZ,GAAG,CAACS,MAAM,EAAE,CAACC,QAAQ,CAAC,gBAAgB,CAAC;MAC7CG,QAAQ,EAAEb,GAAG,CAACS,MAAM,EAAE,CAACC,QAAQ,CAAC,eAAe,CAAC;MAChDI,SAAS,EAAEd,GAAG,CAACe,IAAI,EAAE,CAACL,QAAQ,CAAC,qBAAqB,CAAC;MACrDM,KAAK,EAAEhB,GAAG,CAACS,MAAM,EAAE,CAACC,QAAQ,CAAC,kBAAkB,CAAC,CAACO,OAAO,CAAC,iBAAiB,EAAE,mBAAmB,CAAC;MAChGC,KAAK,EAAElB,GAAG,CAACS,MAAM,EAAE,CAACS,KAAK,CAAC,4BAA4B,CAAC,CAACR,QAAQ,CAAC,yBAAyB,CAAC;MAC3FS,QAAQ,EAAEnB,GAAG,CAACS,MAAM,EAAE,CAACW,GAAG,CAAC,CAAC,EAAE,0CAA0C,CAAC,CAACV,QAAQ,CAAC,oBAAoB,CAAC;MACxGW,eAAe,EAAErB,GAAE,CAChBS,MAAM,EAAC,CACPa,KAAK,CAAC,CAACtB,GAAG,CAACuB,GAAG,CAAC,UAAU,CAAC,CAAC,EAAE,yBAAyB,EACtDb,QAAQ,CAAC,yBAAyB,CAAC;MACtCc,WAAW,EAAExB,GAAG,WAAQ,EAAE,CAACsB,KAAK,CAAC,CAAC,IAAI,CAAC,EAAE,0BAA0B;IACrE,CAAC;IAED,IAAMG,YAAY;MAAA,uEAAG,iBAAOC,MAAM;QAAA;UAAA;YAAA;cAAA;gBAChCC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEF,MAAM;gBAAA;gBAAA,OACtBxB,KAAK,CAAC2B,QAAQ,CAAC,eAAe,EAAEH,MAAM;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAC9C;MAAA,gBAHMD,YAAY;QAAA;MAAA;IAAA,GAGlB","names":["computed","useStore","Form","Field","yup","TextField","store","loading","state","auth","schema","object","fullName","string","required","gender","city","idNumber","birthDate","date","phone","matches","email","password","min","confirmPassword","oneOf","ref","acceptTerms","handleSignup","values","console","log","dispatch"],"sources":["/home/merna-zakaria/projects/self-learning-projects/vue_register_project/src/views/SignupView.vue"],"sourcesContent":["<template>\n  <v-container class=\"fill-height d-flex align-center justify-center\" fluid>\n    <v-card class=\"pa-10 rounded-xl\" max-width=\"900\" elevation=\"4\">\n      <v-card-title class=\"text-center justify-center flex-column mb-6\">\n        <v-img src=\"/images/logo.png\" max-width=\"80\" class=\"mb-4\" />\n        <h2 class=\"font-weight-bold text-h5\">حساب جديد</h2>\n      </v-card-title>\n\n      <Form :validation-schema=\"schema\" @submit=\"handleSignup\">\n        <v-row dense>\n          <!-- <v-col cols=\"12\" md=\"6\">\n            <Field name=\"fullName\" v-slot=\"{ field, meta }\">\n              <v-text-field\n                v-bind=\"field\"\n                label=\"الاسم الرباعي كامل\"\n                :error=\"!!meta.touched && !!meta.error\"\n                :error-messages=\"meta.error\"\n                variant=\"outlined\"\n                density=\"comfortable\"\n                dir=\"rtl\"\n              />\n            </Field>\n          </v-col> -->\n           <TextField name=\"email\" label=\"البريد الإلكتروني\" type=\"email\" cols=\"12\" md=\"6\"/>\n\n          <v-col cols=\"12\" md=\"6\">\n            <Field name=\"gender\" v-slot=\"{ field, meta }\">\n              <v-select\n                v-bind=\"field\"\n                :items=\"['ذكر', 'أنثى']\"\n                label=\"الجنس\"\n                variant=\"outlined\"\n                density=\"comfortable\"\n                dir=\"rtl\"\n                :error=\"!!meta.touched && !!meta.error\"\n                :error-messages=\"meta.error\"\n              />\n            </Field>\n          </v-col>\n\n          <v-col cols=\"12\" md=\"6\">\n            <Field name=\"city\" v-slot=\"{ field, meta }\">\n              <v-text-field\n                v-bind=\"field\"\n                label=\"المدينة/الموقع\"\n                variant=\"outlined\"\n                density=\"comfortable\"\n                dir=\"rtl\"\n                :error=\"!!meta.touched && !!meta.error\"\n                :error-messages=\"meta.error\"\n              />\n            </Field>\n          </v-col>\n\n          <v-col cols=\"12\" md=\"6\">\n            <Field name=\"idNumber\" v-slot=\"{ field, meta }\">\n              <v-text-field\n                v-bind=\"field\"\n                label=\"الهوية الوطنية أو الإقامة\"\n                variant=\"outlined\"\n                density=\"comfortable\"\n                dir=\"rtl\"\n                :error=\"!!meta.touched && !!meta.error\"\n                :error-messages=\"meta.error\"\n              />\n            </Field>\n          </v-col>\n\n          <v-col cols=\"12\" md=\"6\">\n            <Field name=\"birthDate\" v-slot=\"{ field, meta }\">\n              <v-text-field\n                v-bind=\"field\"\n                type=\"date\"\n                label=\"تاريخ الميلاد\"\n                variant=\"outlined\"\n                density=\"comfortable\"\n                dir=\"rtl\"\n                :error=\"!!meta.touched && !!meta.error\"\n                :error-messages=\"meta.error\"\n              />\n            </Field>\n          </v-col>\n\n          <v-col cols=\"12\" md=\"6\">\n            <Field name=\"phone\" v-slot=\"{ field, meta }\">\n              <v-text-field\n                v-bind=\"field\"\n                label=\"رقم الهاتف\"\n                variant=\"outlined\"\n                density=\"comfortable\"\n                dir=\"rtl\"\n                :error=\"!!meta.touched && !!meta.error\"\n                :error-messages=\"meta.error\"\n              />\n            </Field>\n          </v-col>\n\n          <v-col cols=\"12\" md=\"6\">\n            <Field name=\"email\" v-slot=\"{ field, meta }\">\n              <v-text-field\n                v-bind=\"field\"\n                type=\"email\"\n                label=\"البريد الإلكتروني\"\n                variant=\"outlined\"\n                density=\"comfortable\"\n                dir=\"rtl\"\n                :error=\"!!meta.touched && !!meta.error\"\n                :error-messages=\"meta.error\"\n              />\n            </Field>\n          </v-col>\n\n          <v-col cols=\"12\" md=\"6\">\n            <Field name=\"password\" v-slot=\"{ field, meta }\">\n              <v-text-field\n                v-bind=\"field\"\n                type=\"password\"\n                label=\"كلمة المرور\"\n                variant=\"outlined\"\n                density=\"comfortable\"\n                dir=\"rtl\"\n                :error=\"!!meta.touched && !!meta.error\"\n                :error-messages=\"meta.error\"\n              />\n            </Field>\n          </v-col>\n\n          <v-col cols=\"12\" md=\"6\">\n            <Field name=\"confirmPassword\" v-slot=\"{ field, meta }\">\n              <v-text-field\n                v-bind=\"field\"\n                type=\"password\"\n                label=\"تأكيد كلمة المرور\"\n                variant=\"outlined\"\n                density=\"comfortable\"\n                dir=\"rtl\"\n                :error=\"!!meta.touched && !!meta.error\"\n                :error-messages=\"meta.error\"\n              />\n            </Field>\n          </v-col>\n\n          <v-col cols=\"12\" class=\"d-flex align-center justify-end\">\n            <Field name=\"acceptTerms\" v-slot=\"{ field, meta }\">\n              <v-checkbox\n                v-bind=\"field\"\n                label=\"قبول الشروط والأحكام\"\n                dir=\"rtl\"\n                :error=\"!!meta.touched && !!meta.error\"\n                :error-messages=\"meta.error\"\n              />\n            </Field>\n          </v-col>\n\n          <v-col cols=\"12\" class=\"text-center mt-6\">\n            <v-btn\n              color=\"amber-darken-2\"\n              class=\"text-white px-12\"\n              :loading=\"loading\"\n              type=\"submit\"\n              rounded\n              size=\"large\"\n            >\n              تسجيل\n            </v-btn>\n          </v-col>\n        </v-row>\n      </Form>\n\n      <v-card-actions class=\"justify-center mt-4\">\n        <span class=\"text-gray\">لديك حساب؟</span>\n        <RouterLink to=\"/login\" class=\"text-amber-darken-2 font-weight-medium ms-1\">\n          تسجيل دخول\n        </RouterLink>\n      </v-card-actions>\n    </v-card>\n  </v-container>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\nimport { useStore } from 'vuex'\nimport { Form, Field } from 'vee-validate'\nimport * as yup from 'yup'\nimport TextField from \"@/components/controls/textField\";\n\nconst store = useStore()\nconst loading = computed(() => store.state.auth.loading)\n\nconst schema = yup.object({\n  fullName: yup.string().required('الاسم مطلوب'),\n  gender: yup.string().required('يرجى اختيار الجنس'),\n  city: yup.string().required('المدينة مطلوبة'),\n  idNumber: yup.string().required('الهوية مطلوبة'),\n  birthDate: yup.date().required('تاريخ الميلاد مطلوب'),\n  phone: yup.string().required('رقم الهاتف مطلوب').matches(/^(\\+?\\d{8,15})$/, 'رقم هاتف غير صالح'),\n  email: yup.string().email('البريد الإلكتروني غير صالح').required('البريد الإلكتروني مطلوب'),\n  password: yup.string().min(6, 'كلمة المرور يجب أن تكون 6 أحرف على الأقل').required('كلمة المرور مطلوبة'),\n  confirmPassword: yup\n    .string()\n    .oneOf([yup.ref('password')], 'كلمة المرور غير متطابقة')\n    .required('تأكيد كلمة المرور مطلوب'),\n  acceptTerms: yup.boolean().oneOf([true], 'يجب قبول الشروط والأحكام')\n})\n\nconst handleSignup = async (values) => {\n  console.log('values', values)\n  await store.dispatch('auth/register', values)\n}\n</script>\n\n<style scoped>\n.v-card {\n  direction: rtl;\n  font-family: 'Tajawal', sans-serif;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
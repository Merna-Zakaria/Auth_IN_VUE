{"ast":null,"code":"import _createForOfIteratorHelper from \"/home/merna-zakaria/projects/self-learning-projects/vue_register_project/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _objectSpread from \"/home/merna-zakaria/projects/self-learning-projects/vue_register_project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _typeof from \"/home/merna-zakaria/projects/self-learning-projects/vue_register_project/node_modules/@babel/runtime/helpers/esm/typeof.js\";\nimport \"core-js/modules/es.array.is-array.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.map.js\";\n// Utilities\nimport { computed } from 'vue';\nimport { getPropertyFromItem, pick, propsFactory } from \"../util/index.mjs\"; // Types\n// Composables\nexport var makeItemsProps = propsFactory({\n  items: {\n    type: Array,\n    \"default\": function _default() {\n      return [];\n    }\n  },\n  itemTitle: {\n    type: [String, Array, Function],\n    \"default\": 'title'\n  },\n  itemValue: {\n    type: [String, Array, Function],\n    \"default\": 'value'\n  },\n  itemChildren: {\n    type: [Boolean, String, Array, Function],\n    \"default\": 'children'\n  },\n  itemProps: {\n    type: [Boolean, String, Array, Function],\n    \"default\": 'props'\n  },\n  returnObject: Boolean\n}, 'item');\nexport function transformItem(props, item) {\n  var _props$title;\n  var title = getPropertyFromItem(item, props.itemTitle, item);\n  var value = props.returnObject ? item : getPropertyFromItem(item, props.itemValue, title);\n  var children = getPropertyFromItem(item, props.itemChildren);\n  var itemProps = props.itemProps === true ? _typeof(item) === 'object' && item != null && !Array.isArray(item) ? 'children' in item ? pick(item, ['children'])[1] : item : undefined : getPropertyFromItem(item, props.itemProps);\n  var _props = _objectSpread({\n    title: title,\n    value: value\n  }, itemProps);\n  return {\n    title: String((_props$title = _props.title) !== null && _props$title !== void 0 ? _props$title : ''),\n    value: _props.value,\n    props: _props,\n    children: Array.isArray(children) ? transformItems(props, children) : undefined,\n    raw: item\n  };\n}\nexport function transformItems(props, items) {\n  var array = [];\n  var _iterator = _createForOfIteratorHelper(items),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var item = _step.value;\n      array.push(transformItem(props, item));\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return array;\n}\nexport function useItems(props) {\n  var items = computed(function () {\n    return transformItems(props, props.items);\n  });\n  function transformIn(value) {\n    return value.map(function (item) {\n      return transformItem(props, item);\n    });\n  }\n  function transformOut(value) {\n    return value.map(function (_ref) {\n      var props = _ref.props;\n      return props.value;\n    });\n  }\n  return {\n    items: items,\n    transformIn: transformIn,\n    transformOut: transformOut\n  };\n}","map":{"version":3,"mappings":";;;;;;AAAA;AACA,SAASA,QAAQ,QAAQ,KAAK;AAAA,SACrBC,mBAAmB,EAAEC,IAAI,EAAEC,YAAY,6BAEhD;AAyBA;AACA,OAAO,IAAMC,cAAc,GAAGD,YAAY,CAAC;EACzCE,KAAK,EAAE;IACLC,IAAI,EAAEC,KAAqC;IAC3CC,WAAS;MAAA,OAAO;IAAA;EAClB,CAAC;EACDC,SAAS,EAAE;IACTH,IAAI,EAAE,CAACI,MAAM,EAAEH,KAAK,EAAEI,QAAQ,CAA4B;IAC1DH,WAAS;EACX,CAAC;EACDI,SAAS,EAAE;IACTN,IAAI,EAAE,CAACI,MAAM,EAAEH,KAAK,EAAEI,QAAQ,CAA4B;IAC1DH,WAAS;EACX,CAAC;EACDK,YAAY,EAAE;IACZP,IAAI,EAAE,CAACQ,OAAO,EAAEJ,MAAM,EAAEH,KAAK,EAAEI,QAAQ,CAA4B;IACnEH,WAAS;EACX,CAAC;EACDO,SAAS,EAAE;IACTT,IAAI,EAAE,CAACQ,OAAO,EAAEJ,MAAM,EAAEH,KAAK,EAAEI,QAAQ,CAA4B;IACnEH,WAAS;EACX,CAAC;EACDQ,YAAY,EAAEF;AAChB,CAAC,EAAE,MAAM,CAAC;AAEV,OAAO,SAASG,aAAa,CAAEC,KAA+B,EAAEC,IAAS,EAAE;EAAA;EACzE,IAAMC,KAAK,GAAGnB,mBAAmB,CAACkB,IAAI,EAAED,KAAK,CAACT,SAAS,EAAEU,IAAI,CAAC;EAC9D,IAAME,KAAK,GAAGH,KAAK,CAACF,YAAY,GAAGG,IAAI,GAAGlB,mBAAmB,CAACkB,IAAI,EAAED,KAAK,CAACN,SAAS,EAAEQ,KAAK,CAAC;EAC3F,IAAME,QAAQ,GAAGrB,mBAAmB,CAACkB,IAAI,EAAED,KAAK,CAACL,YAAY,CAAC;EAC9D,IAAME,SAAS,GAAGG,KAAK,CAACH,SAAS,KAAK,IAAI,GACtC,QAAOI,IAAI,MAAK,QAAQ,IAAIA,IAAI,IAAI,IAAI,IAAI,CAACZ,KAAK,CAACgB,OAAO,CAACJ,IAAI,CAAC,GAC9D,UAAU,IAAIA,IAAI,GAChBjB,IAAI,CAACiB,IAAI,EAAE,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,GAC3BA,IAAI,GACNK,SAAS,GACXvB,mBAAmB,CAACkB,IAAI,EAAED,KAAK,CAACH,SAAS,CAAC;EAE9C,IAAMU,MAAM;IACVL,KAAK,EAALA,KAAK;IACLC,KAAK,EAALA;EAAK,GACFN,UACJ;EAED,OAAO;IACLK,KAAK,EAAEV,MAAM,iBAACe,MAAM,CAACL,KAAK,uDAAI,EAAE,CAAC;IACjCC,KAAK,EAAEI,MAAM,CAACJ,KAAK;IACnBH,KAAK,EAAEO,MAAM;IACbH,QAAQ,EAAEf,KAAK,CAACgB,OAAO,CAACD,QAAQ,CAAC,GAAGI,cAAc,CAACR,KAAK,EAAEI,QAAQ,CAAC,GAAGE,SAAS;IAC/EG,GAAG,EAAER;EACP,CAAC;AACH;AAEA,OAAO,SAASO,cAAc,CAAER,KAA+B,EAAEb,KAAyB,EAAE;EAC1F,IAAMuB,KAAqB,GAAG,EAAE;EAAA,2CAEbvB,KAAK;IAAA;EAAA;IAAxB,oDAA0B;MAAA,IAAfc,IAAI;MACbS,KAAK,CAACC,IAAI,CAACZ,aAAa,CAACC,KAAK,EAAEC,IAAI,CAAC,CAAC;IACxC;EAAA;IAAA;EAAA;IAAA;EAAA;EAEA,OAAOS,KAAK;AACd;AAEA,OAAO,SAASE,QAAQ,CAAEZ,KAAgB,EAAE;EAC1C,IAAMb,KAAK,GAAGL,QAAQ,CAAC;IAAA,OAAM0B,cAAc,CAACR,KAAK,EAAEA,KAAK,CAACb,KAAK,CAAC;EAAA,EAAC;EAEhE,SAAS0B,WAAW,CAAEV,KAAY,EAAkB;IAClD,OAAOA,KAAK,CAACW,GAAG,CAACb,cAAI;MAAA,OAAIF,aAAa,CAACC,KAAK,EAAEC,IAAI,CAAC;IAAA,EAAC;EACtD;EAEA,SAASc,YAAY,CAAEZ,KAAqB,EAAE;IAC5C,OAAOA,KAAK,CAACW,GAAG,CAAC;MAAA,IAAGd,QAAOgB,KAAPhB;MAAO,OAAKA,KAAK,CAACG,KAAK;IAAA,EAAC;EAC9C;EAEA,OAAO;IAAEhB,KAAK,EAALA,KAAK;IAAE0B,WAAW,EAAXA,WAAW;IAAEE;EAAa,CAAC;AAC7C","names":["computed","getPropertyFromItem","pick","propsFactory","makeItemsProps","items","type","Array","default","itemTitle","String","Function","itemValue","itemChildren","Boolean","itemProps","returnObject","transformItem","props","item","title","value","children","isArray","undefined","_props","transformItems","raw","array","push","useItems","transformIn","map","transformOut","_ref"],"sources":["../../src/composables/items.ts"],"sourcesContent":["// Utilities\nimport { computed } from 'vue'\nimport { getPropertyFromItem, pick, propsFactory } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\nimport type { SelectItemKey } from '@/util'\n\nexport interface InternalItem<T = any> {\n  title: string\n  value: any\n  props: {\n    [key: string]: any\n    title: string\n    value: any\n  }\n  children?: InternalItem<T>[]\n  raw: T\n}\n\nexport interface ItemProps {\n  items: any[]\n  itemTitle: SelectItemKey\n  itemValue: SelectItemKey\n  itemChildren: SelectItemKey\n  itemProps: SelectItemKey\n  returnObject: boolean\n}\n\n// Composables\nexport const makeItemsProps = propsFactory({\n  items: {\n    type: Array as PropType<ItemProps['items']>,\n    default: () => ([]),\n  },\n  itemTitle: {\n    type: [String, Array, Function] as PropType<SelectItemKey>,\n    default: 'title',\n  },\n  itemValue: {\n    type: [String, Array, Function] as PropType<SelectItemKey>,\n    default: 'value',\n  },\n  itemChildren: {\n    type: [Boolean, String, Array, Function] as PropType<SelectItemKey>,\n    default: 'children',\n  },\n  itemProps: {\n    type: [Boolean, String, Array, Function] as PropType<SelectItemKey>,\n    default: 'props',\n  },\n  returnObject: Boolean,\n}, 'item')\n\nexport function transformItem (props: Omit<ItemProps, 'items'>, item: any) {\n  const title = getPropertyFromItem(item, props.itemTitle, item)\n  const value = props.returnObject ? item : getPropertyFromItem(item, props.itemValue, title)\n  const children = getPropertyFromItem(item, props.itemChildren)\n  const itemProps = props.itemProps === true\n    ? typeof item === 'object' && item != null && !Array.isArray(item)\n      ? 'children' in item\n        ? pick(item, ['children'])[1]\n        : item\n      : undefined\n    : getPropertyFromItem(item, props.itemProps)\n\n  const _props = {\n    title,\n    value,\n    ...itemProps,\n  }\n\n  return {\n    title: String(_props.title ?? ''),\n    value: _props.value,\n    props: _props,\n    children: Array.isArray(children) ? transformItems(props, children) : undefined,\n    raw: item,\n  }\n}\n\nexport function transformItems (props: Omit<ItemProps, 'items'>, items: ItemProps['items']) {\n  const array: InternalItem[] = []\n\n  for (const item of items) {\n    array.push(transformItem(props, item))\n  }\n\n  return array\n}\n\nexport function useItems (props: ItemProps) {\n  const items = computed(() => transformItems(props, props.items))\n\n  function transformIn (value: any[]): InternalItem[] {\n    return value.map(item => transformItem(props, item))\n  }\n\n  function transformOut (value: InternalItem[]) {\n    return value.map(({ props }) => props.value)\n  }\n\n  return { items, transformIn, transformOut }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
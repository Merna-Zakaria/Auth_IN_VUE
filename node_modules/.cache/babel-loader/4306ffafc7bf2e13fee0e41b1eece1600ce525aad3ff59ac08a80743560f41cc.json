{"ast":null,"code":"import _regeneratorRuntime from \"/home/merna-zakaria/projects/self-learning-projects/vue_register_project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/merna-zakaria/projects/self-learning-projects/vue_register_project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.object.define-property.js\";\nimport { computed } from 'vue';\nimport { useStore } from 'vuex';\nimport { Form, Field, useForm } from 'vee-validate';\nimport * as yup from 'yup';\nimport TextField from \"@/components/controls/textField\";\nexport default {\n  __name: 'SignupView',\n  setup: function setup(__props, _ref) {\n    var __expose = _ref.expose;\n    __expose();\n    var store = useStore();\n    var _useForm = useForm(),\n      validate = _useForm.validate,\n      errors = _useForm.errors;\n    var loading = computed(function () {\n      return store.state.auth.loading;\n    });\n    var schema = yup.object({\n      email: yup.string().email('البريد الإلكتروني غير صالح').required('البريد الإلكتروني مطلوب')\n      // fullName: yup.string().required('الاسم مطلوب'),\n      // gender: yup.string().required('يرجى اختيار الجنس'),\n      // city: yup.string().required('المدينة مطلوبة'),\n      // idNumber: yup.string().required('الهوية مطلوبة'),\n      // birthDate: yup.date().required('تاريخ الميلاد مطلوب'),\n      // phone: yup.string().required('رقم الهاتف مطلوب').matches(/^(\\+?\\d{8,15})$/, 'رقم هاتف غير صالح'),\n      // password: yup.string().min(6, 'كلمة المرور يجب أن تكون 6 أحرف على الأقل').required('كلمة المرور مطلوبة'),\n      // confirmPassword: yup\n      //   .string()\n      //   .oneOf([yup.ref('password')], 'كلمة المرور غير متطابقة')\n      //   .required('تأكيد كلمة المرور مطلوب'),\n      // acceptTerms: yup.boolean().oneOf([true], 'يجب قبول الشروط والأحكام')\n    });\n\n    var handleSignup = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(values) {\n        var result;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return validate();\n              case 2:\n                result = _context.sent;\n                console.log('result', result);\n                if (result.valid) {\n                  _context.next = 7;\n                  break;\n                }\n                console.log('Form has errors:', errors.value);\n                return _context.abrupt(\"return\");\n              case 7:\n                console.log('Form is valid!', values);\n                // await store.dispatch('auth/register', values)\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return function handleSignup(_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    var __returned__ = {\n      store: store,\n      validate: validate,\n      errors: errors,\n      loading: loading,\n      schema: schema,\n      handleSignup: handleSignup,\n      computed: computed,\n      get useStore() {\n        return useStore;\n      },\n      get Form() {\n        return Form;\n      },\n      get Field() {\n        return Field;\n      },\n      get useForm() {\n        return useForm;\n      },\n      get yup() {\n        return yup;\n      },\n      get TextField() {\n        return TextField;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"mappings":";;;AAuLA,SAASA,QAAQ,QAAQ,KAAI;AAC7B,SAASC,QAAQ,QAAQ,MAAK;AAC9B,SAASC,IAAI,EAAEC,KAAK,EAAEC,OAAO,QAAQ,cAAa;AAClD,OAAO,KAAKC,GAAG,MAAM,KAAI;AACzB,OAAOC,SAAS,MAAM,iCAAiC;;;;;;IAEvD,IAAMC,KAAK,GAAGN,QAAQ,EAAC;IACvB,eAA6BG,OAAO,EAAC;MAA7BI,QAAQ,YAARA,QAAQ;MAAEC,MAAM,YAANA,MAAM;IACxB,IAAMC,OAAO,GAAGV,QAAQ,CAAC;MAAA,OAAMO,KAAK,CAACI,KAAK,CAACC,IAAI,CAACF,OAAO;IAAA;IAEvD,IAAMG,MAAM,GAAGR,GAAG,CAACS,MAAM,CAAC;MACxBC,KAAK,EAAEV,GAAG,CAACW,MAAM,EAAE,CAACD,KAAK,CAAC,4BAA4B,CAAC,CAACE,QAAQ,CAAC,yBAAyB;MAC1F;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACF,CAAC;;IAED,IAAMC,YAAY;MAAA,uEAAG,iBAAOC,MAAM;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACXX,QAAQ,EAAC;cAAA;gBAAxBY,MAAM;gBACZC,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEF,MAAM;gBAAA,IACvBA,MAAM,CAACG,KAAK;kBAAA;kBAAA;gBAAA;gBACfF,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEb,MAAM,CAACe,KAAK;gBAAA;cAAA;gBAI9CH,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEH,MAAM;gBACpC;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CACF;MAAA,gBAVMD,YAAY;QAAA;MAAA;IAAA,GAUlB","names":["computed","useStore","Form","Field","useForm","yup","TextField","store","validate","errors","loading","state","auth","schema","object","email","string","required","handleSignup","values","result","console","log","valid","value"],"sources":["/home/merna-zakaria/projects/self-learning-projects/vue_register_project/src/views/SignupView.vue"],"sourcesContent":["<template>\n  <v-container class=\"fill-height d-flex align-center justify-center\" fluid>\n    <v-card class=\"pa-10 rounded-xl\" max-width=\"900\" elevation=\"4\">\n      <v-card-title class=\"text-center justify-center flex-column mb-6\">\n        <v-img src=\"/images/logo.png\" max-width=\"80\" class=\"mb-4\" />\n        <h2 class=\"font-weight-bold text-h5\">حساب جديد</h2>\n      </v-card-title>\n\n      <Form :validation-schema=\"schema\" @submit=\"handleSignup\"   :validate-on-change=\"true\"\n  :validate-on-blur=\"false\"\n  :validate-on-input=\"false\"\n  :validate-on-model-update=\"false\">\n        <v-row dense>\n          <!-- <v-col cols=\"12\" md=\"6\">\n            <Field name=\"fullName\" v-slot=\"{ field, meta }\">\n              <v-text-field\n                v-bind=\"field\"\n                label=\"الاسم الرباعي كامل\"\n                :error=\"!!meta.touched && !!meta.error\"\n                :error-messages=\"meta.error\"\n                variant=\"outlined\"\n                density=\"comfortable\"\n                dir=\"rtl\"\n              />\n            </Field>\n          </v-col> -->\n           <TextField name=\"email\" label=\"البريد الإلكتروني\" type=\"email\" cols=\"12\" md=\"6\"/>\n\n          <v-col cols=\"12\" md=\"6\">\n            <Field name=\"gender\" v-slot=\"{ field, meta }\">\n              <v-select\n                v-bind=\"field\"\n                :items=\"['ذكر', 'أنثى']\"\n                label=\"الجنس\"\n                variant=\"outlined\"\n                density=\"comfortable\"\n                dir=\"rtl\"\n                :error=\"!!meta.touched && !!meta.error\"\n                :error-messages=\"meta.error\"\n              />\n            </Field>\n          </v-col>\n\n          <v-col cols=\"12\" md=\"6\">\n            <Field name=\"city\" v-slot=\"{ field, meta }\">\n              <v-text-field\n                v-bind=\"field\"\n                label=\"المدينة/الموقع\"\n                variant=\"outlined\"\n                density=\"comfortable\"\n                dir=\"rtl\"\n                :error=\"!!meta.touched && !!meta.error\"\n                :error-messages=\"meta.error\"\n              />\n            </Field>\n          </v-col>\n\n          <v-col cols=\"12\" md=\"6\">\n            <Field name=\"idNumber\" v-slot=\"{ field, meta }\">\n              <v-text-field\n                v-bind=\"field\"\n                label=\"الهوية الوطنية أو الإقامة\"\n                variant=\"outlined\"\n                density=\"comfortable\"\n                dir=\"rtl\"\n                :error=\"!!meta.touched && !!meta.error\"\n                :error-messages=\"meta.error\"\n              />\n            </Field>\n          </v-col>\n\n          <v-col cols=\"12\" md=\"6\">\n            <Field name=\"birthDate\" v-slot=\"{ field, meta }\">\n              <v-text-field\n                v-bind=\"field\"\n                type=\"date\"\n                label=\"تاريخ الميلاد\"\n                variant=\"outlined\"\n                density=\"comfortable\"\n                dir=\"rtl\"\n                :error=\"!!meta.touched && !!meta.error\"\n                :error-messages=\"meta.error\"\n              />\n            </Field>\n          </v-col>\n\n          <v-col cols=\"12\" md=\"6\">\n            <Field name=\"phone\" v-slot=\"{ field, meta }\">\n              <v-text-field\n                v-bind=\"field\"\n                label=\"رقم الهاتف\"\n                variant=\"outlined\"\n                density=\"comfortable\"\n                dir=\"rtl\"\n                :error=\"!!meta.touched && !!meta.error\"\n                :error-messages=\"meta.error\"\n              />\n            </Field>\n          </v-col>\n\n          <v-col cols=\"12\" md=\"6\">\n            <Field name=\"email\" v-slot=\"{ field, meta }\">\n              <v-text-field\n                v-bind=\"field\"\n                type=\"email\"\n                label=\"البريد الإلكتروني\"\n                variant=\"outlined\"\n                density=\"comfortable\"\n                dir=\"rtl\"\n                :error=\"!!meta.touched && !!meta.error\"\n                :error-messages=\"meta.error\"\n              />\n            </Field>\n          </v-col>\n\n          <v-col cols=\"12\" md=\"6\">\n            <Field name=\"password\" v-slot=\"{ field, meta }\">\n              <v-text-field\n                v-bind=\"field\"\n                type=\"password\"\n                label=\"كلمة المرور\"\n                variant=\"outlined\"\n                density=\"comfortable\"\n                dir=\"rtl\"\n                :error=\"!!meta.touched && !!meta.error\"\n                :error-messages=\"meta.error\"\n              />\n            </Field>\n          </v-col>\n\n          <v-col cols=\"12\" md=\"6\">\n            <Field name=\"confirmPassword\" v-slot=\"{ field, meta }\">\n              <v-text-field\n                v-bind=\"field\"\n                type=\"password\"\n                label=\"تأكيد كلمة المرور\"\n                variant=\"outlined\"\n                density=\"comfortable\"\n                dir=\"rtl\"\n                :error=\"!!meta.touched && !!meta.error\"\n                :error-messages=\"meta.error\"\n              />\n            </Field>\n          </v-col>\n\n          <v-col cols=\"12\" class=\"d-flex align-center justify-end\">\n            <Field name=\"acceptTerms\" v-slot=\"{ field, meta }\">\n              <v-checkbox\n                v-bind=\"field\"\n                label=\"قبول الشروط والأحكام\"\n                dir=\"rtl\"\n                :error=\"!!meta.touched && !!meta.error\"\n                :error-messages=\"meta.error\"\n              />\n            </Field>\n          </v-col>\n\n          <v-col cols=\"12\" class=\"text-center mt-6\">\n            <v-btn\n              color=\"amber-darken-2\"\n              class=\"text-white px-12\"\n              :loading=\"loading\"\n              type=\"submit\"\n              rounded\n              size=\"large\"\n            >\n              تسجيل\n            </v-btn>\n          </v-col>\n        </v-row>\n      </Form>\n\n      <v-card-actions class=\"justify-center mt-4\">\n        <span class=\"text-gray\">لديك حساب؟</span>\n        <RouterLink to=\"/login\" class=\"text-amber-darken-2 font-weight-medium ms-1\">\n          تسجيل دخول\n        </RouterLink>\n      </v-card-actions>\n    </v-card>\n  </v-container>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\nimport { useStore } from 'vuex'\nimport { Form, Field, useForm } from 'vee-validate'\nimport * as yup from 'yup'\nimport TextField from \"@/components/controls/textField\";\n\nconst store = useStore()\nconst { validate, errors } = useForm()\nconst loading = computed(() => store.state.auth.loading)\n\nconst schema = yup.object({\n  email: yup.string().email('البريد الإلكتروني غير صالح').required('البريد الإلكتروني مطلوب'),\n  // fullName: yup.string().required('الاسم مطلوب'),\n  // gender: yup.string().required('يرجى اختيار الجنس'),\n  // city: yup.string().required('المدينة مطلوبة'),\n  // idNumber: yup.string().required('الهوية مطلوبة'),\n  // birthDate: yup.date().required('تاريخ الميلاد مطلوب'),\n  // phone: yup.string().required('رقم الهاتف مطلوب').matches(/^(\\+?\\d{8,15})$/, 'رقم هاتف غير صالح'),\n  // password: yup.string().min(6, 'كلمة المرور يجب أن تكون 6 أحرف على الأقل').required('كلمة المرور مطلوبة'),\n  // confirmPassword: yup\n  //   .string()\n  //   .oneOf([yup.ref('password')], 'كلمة المرور غير متطابقة')\n  //   .required('تأكيد كلمة المرور مطلوب'),\n  // acceptTerms: yup.boolean().oneOf([true], 'يجب قبول الشروط والأحكام')\n})\n\nconst handleSignup = async (values) => {\n  const result = await validate()\n  console.log('result', result)\n  if (!result.valid) {\n    console.log('Form has errors:', errors.value)\n    return\n  }\n\n  console.log('Form is valid!', values)\n  // await store.dispatch('auth/register', values)\n}\n</script>\n\n<style scoped>\n.v-card {\n  direction: rtl;\n  font-family: 'Tajawal', sans-serif;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import _objectSpread from \"/home/merna-zakaria/projects/self-learning-projects/vue_register_project/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/home/merna-zakaria/projects/self-learning-projects/vue_register_project/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"modelValue\", \"color\"];\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport { withDirectives as _withDirectives, resolveDirective as _resolveDirective, vShow as _vShow, Fragment as _Fragment, createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\n// Styles\nimport \"./VOverlay.css\";\n\n// Composables\nimport { makeActivatorProps, useActivator } from \"./useActivator.mjs\";\nimport { makeDimensionProps, useDimension } from \"../../composables/dimensions.mjs\";\nimport { makeLazyProps, useLazy } from \"../../composables/lazy.mjs\";\nimport { makeLocationStrategyProps, useLocationStrategies } from \"./locationStrategies.mjs\";\nimport { makeScrollStrategyProps, useScrollStrategies } from \"./scrollStrategies.mjs\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.mjs\";\nimport { makeTransitionProps, MaybeTransition } from \"../../composables/transition.mjs\";\nimport { useBackButton, useRouter } from \"../../composables/router.mjs\";\nimport { useBackgroundColor } from \"../../composables/color.mjs\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.mjs\";\nimport { useHydration } from \"../../composables/hydration.mjs\";\nimport { useRtl } from \"../../composables/locale.mjs\";\nimport { useScopeId } from \"../../composables/scopeId.mjs\";\nimport { useStack } from \"../../composables/stack.mjs\";\nimport { useTeleport } from \"../../composables/teleport.mjs\";\nimport { useToggleScope } from \"../../composables/toggleScope.mjs\"; // Directives\nimport { ClickOutside } from \"../../directives/click-outside/index.mjs\"; // Utilities\nimport { animate, convertToUnit, genericComponent, getScrollParent, IN_BROWSER, pick, propsFactory, standardEasing, useRender } from \"../../util/index.mjs\";\nimport { computed, mergeProps, ref, Teleport, toHandlers, toRef, Transition, watch } from 'vue';\n\n// Types\n\nfunction Scrim(props) {\n  var modelValue = props.modelValue,\n    color = props.color,\n    rest = _objectWithoutProperties(props, _excluded);\n  return _createVNode(Transition, {\n    \"name\": \"fade-transition\",\n    \"appear\": true\n  }, {\n    \"default\": function _default() {\n      return [props.modelValue && _createVNode(\"div\", _mergeProps({\n        \"class\": ['v-overlay__scrim', props.color.backgroundColorClasses.value],\n        \"style\": props.color.backgroundColorStyles.value\n      }, rest), null)];\n    }\n  });\n}\nexport var makeVOverlayProps = propsFactory(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({\n  absolute: Boolean,\n  attach: [Boolean, String, Object],\n  closeOnBack: {\n    type: Boolean,\n    \"default\": true\n  },\n  contained: Boolean,\n  contentClass: null,\n  contentProps: null,\n  disabled: Boolean,\n  noClickAnimation: Boolean,\n  modelValue: Boolean,\n  persistent: Boolean,\n  scrim: {\n    type: [String, Boolean],\n    \"default\": true\n  },\n  zIndex: {\n    type: [Number, String],\n    \"default\": 2000\n  }\n}, makeActivatorProps()), makeDimensionProps()), makeLazyProps()), makeLocationStrategyProps()), makeScrollStrategyProps()), makeThemeProps()), makeTransitionProps()), 'v-overlay');\nexport var VOverlay = genericComponent()({\n  name: 'VOverlay',\n  directives: {\n    ClickOutside: ClickOutside\n  },\n  inheritAttrs: false,\n  props: _objectSpread({\n    _disableGlobalStack: Boolean\n  }, makeVOverlayProps()),\n  emits: {\n    'click:outside': function clickOutside(e) {\n      return true;\n    },\n    'update:modelValue': function updateModelValue(value) {\n      return true;\n    },\n    afterLeave: function afterLeave() {\n      return true;\n    }\n  },\n  setup: function setup(props, _ref) {\n    var slots = _ref.slots,\n      attrs = _ref.attrs,\n      emit = _ref.emit;\n    var model = useProxiedModel(props, 'modelValue');\n    var isActive = computed({\n      get: function get() {\n        return model.value;\n      },\n      set: function set(v) {\n        if (!(v && props.disabled)) model.value = v;\n      }\n    });\n    var _useTeleport = useTeleport(computed(function () {\n        return props.attach || props.contained;\n      })),\n      teleportTarget = _useTeleport.teleportTarget;\n    var _provideTheme = provideTheme(props),\n      themeClasses = _provideTheme.themeClasses;\n    var _useRtl = useRtl(),\n      rtlClasses = _useRtl.rtlClasses,\n      isRtl = _useRtl.isRtl;\n    var _useLazy = useLazy(props, isActive),\n      hasContent = _useLazy.hasContent,\n      _onAfterLeave = _useLazy.onAfterLeave;\n    var scrimColor = useBackgroundColor(computed(function () {\n      return typeof props.scrim === 'string' ? props.scrim : null;\n    }));\n    var _useStack = useStack(isActive, toRef(props, 'zIndex'), props._disableGlobalStack),\n      globalTop = _useStack.globalTop,\n      localTop = _useStack.localTop,\n      stackStyles = _useStack.stackStyles;\n    var _useActivator = useActivator(props, {\n        isActive: isActive,\n        isTop: localTop\n      }),\n      activatorEl = _useActivator.activatorEl,\n      activatorRef = _useActivator.activatorRef,\n      activatorEvents = _useActivator.activatorEvents,\n      contentEvents = _useActivator.contentEvents,\n      scrimEvents = _useActivator.scrimEvents;\n    var _useDimension = useDimension(props),\n      dimensionStyles = _useDimension.dimensionStyles;\n    var isMounted = useHydration();\n    var _useScopeId = useScopeId(),\n      scopeId = _useScopeId.scopeId;\n    watch(function () {\n      return props.disabled;\n    }, function (v) {\n      if (v) isActive.value = false;\n    });\n    var root = ref();\n    var contentEl = ref();\n    var _useLocationStrategie = useLocationStrategies(props, {\n        isRtl: isRtl,\n        contentEl: contentEl,\n        activatorEl: activatorEl,\n        isActive: isActive\n      }),\n      contentStyles = _useLocationStrategie.contentStyles,\n      updateLocation = _useLocationStrategie.updateLocation;\n    useScrollStrategies(props, {\n      root: root,\n      contentEl: contentEl,\n      activatorEl: activatorEl,\n      isActive: isActive,\n      updateLocation: updateLocation\n    });\n    function onClickOutside(e) {\n      emit('click:outside', e);\n      if (!props.persistent) isActive.value = false;else animateClick();\n    }\n    function closeConditional() {\n      return isActive.value && globalTop.value;\n    }\n    IN_BROWSER && watch(isActive, function (val) {\n      if (val) {\n        window.addEventListener('keydown', onKeydown);\n      } else {\n        window.removeEventListener('keydown', onKeydown);\n      }\n    }, {\n      immediate: true\n    });\n    function onKeydown(e) {\n      if (e.key === 'Escape' && globalTop.value) {\n        if (!props.persistent) {\n          isActive.value = false;\n        } else animateClick();\n      }\n    }\n    var router = useRouter();\n    useToggleScope(function () {\n      return props.closeOnBack;\n    }, function () {\n      useBackButton(router, function (next) {\n        if (globalTop.value && isActive.value) {\n          next(false);\n          if (!props.persistent) isActive.value = false;else animateClick();\n        } else {\n          next();\n        }\n      });\n    });\n    var top = ref();\n    watch(function () {\n      return isActive.value && (props.absolute || props.contained) && teleportTarget.value == null;\n    }, function (val) {\n      if (val) {\n        var scrollParent = getScrollParent(root.value);\n        if (scrollParent && scrollParent !== document.scrollingElement) {\n          top.value = scrollParent.scrollTop;\n        }\n      }\n    });\n\n    // Add a quick \"bounce\" animation to the content\n    function animateClick() {\n      if (props.noClickAnimation) return;\n      contentEl.value && animate(contentEl.value, [{\n        transformOrigin: 'center'\n      }, {\n        transform: 'scale(1.03)'\n      }, {\n        transformOrigin: 'center'\n      }], {\n        duration: 150,\n        easing: standardEasing\n      });\n    }\n    useRender(function () {\n      var _slots$activator, _slots$default;\n      return _createVNode(_Fragment, null, [(_slots$activator = slots.activator) == null ? void 0 : _slots$activator.call(slots, {\n        isActive: isActive.value,\n        props: mergeProps({\n          ref: activatorRef\n        }, toHandlers(activatorEvents.value), props.activatorProps)\n      }), isMounted.value && _createVNode(Teleport, {\n        \"disabled\": !teleportTarget.value,\n        \"to\": teleportTarget.value\n      }, {\n        \"default\": function _default() {\n          return [hasContent.value && _createVNode(\"div\", _mergeProps({\n            \"class\": ['v-overlay', {\n              'v-overlay--absolute': props.absolute || props.contained,\n              'v-overlay--active': isActive.value,\n              'v-overlay--contained': props.contained\n            }, themeClasses.value, rtlClasses.value],\n            \"style\": [stackStyles.value, {\n              top: convertToUnit(top.value)\n            }],\n            \"ref\": root\n          }, scopeId, attrs), [_createVNode(Scrim, _mergeProps({\n            \"color\": scrimColor,\n            \"modelValue\": isActive.value && !!props.scrim\n          }, toHandlers(scrimEvents.value)), null), _createVNode(MaybeTransition, {\n            \"appear\": true,\n            \"persisted\": true,\n            \"transition\": props.transition,\n            \"target\": activatorEl.value,\n            \"onAfterLeave\": function onAfterLeave() {\n              _onAfterLeave();\n              emit('afterLeave');\n            }\n          }, {\n            \"default\": function _default() {\n              return [_withDirectives(_createVNode(\"div\", _mergeProps({\n                \"ref\": contentEl,\n                \"class\": ['v-overlay__content', props.contentClass],\n                \"style\": [dimensionStyles.value, contentStyles.value]\n              }, toHandlers(contentEvents.value), props.contentProps), [(_slots$default = slots[\"default\"]) == null ? void 0 : _slots$default.call(slots, {\n                isActive: isActive\n              })]), [[_vShow, isActive.value], [_resolveDirective(\"click-outside\"), {\n                handler: onClickOutside,\n                closeConditional: closeConditional,\n                include: function include() {\n                  return [activatorEl.value];\n                }\n              }]])];\n            }\n          })])];\n        }\n      })]);\n    });\n    return {\n      activatorEl: activatorEl,\n      animateClick: animateClick,\n      contentEl: contentEl,\n      globalTop: globalTop,\n      localTop: localTop,\n      updateLocation: updateLocation\n    };\n  }\n});\nexport function filterVOverlayProps(props) {\n  return pick(props, Object.keys(VOverlay.props));\n}","map":{"version":3,"mappings":"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","names":["makeActivatorProps","useActivator","makeDimensionProps","useDimension","makeLazyProps","useLazy","makeLocationStrategyProps","useLocationStrategies","makeScrollStrategyProps","useScrollStrategies","makeThemeProps","provideTheme","makeTransitionProps","MaybeTransition","useBackButton","useRouter","useBackgroundColor","useProxiedModel","useHydration","useRtl","useScopeId","useStack","useTeleport","useToggleScope","ClickOutside","animate","convertToUnit","genericComponent","getScrollParent","IN_BROWSER","pick","propsFactory","standardEasing","useRender","computed","mergeProps","ref","Teleport","toHandlers","toRef","Transition","watch","Scrim","props","modelValue","color","rest","backgroundColorClasses","value","backgroundColorStyles","makeVOverlayProps","absolute","Boolean","attach","String","Object","closeOnBack","type","default","contained","contentClass","contentProps","disabled","noClickAnimation","persistent","scrim","zIndex","Number","VOverlay","name","directives","inheritAttrs","_disableGlobalStack","emits","e","afterLeave","setup","slots","_ref","attrs","emit","model","isActive","get","set","v","teleportTarget","themeClasses","rtlClasses","isRtl","hasContent","onAfterLeave","scrimColor","globalTop","localTop","stackStyles","isTop","activatorEl","activatorRef","activatorEvents","contentEvents","scrimEvents","dimensionStyles","isMounted","scopeId","root","contentEl","contentStyles","updateLocation","onClickOutside","animateClick","closeConditional","val","window","addEventListener","onKeydown","removeEventListener","immediate","key","router","next","top","scrollParent","document","scrollingElement","scrollTop","transformOrigin","transform","duration","easing","activator","_slots$activator","activatorProps","transition","_slots$default","handler","include","filterVOverlayProps","keys"],"sources":["../../../src/components/VOverlay/VOverlay.tsx"],"sourcesContent":["// Styles\nimport './VOverlay.sass'\n\n// Composables\nimport { makeActivatorProps, useActivator } from './useActivator'\nimport { makeDimensionProps, useDimension } from '@/composables/dimensions'\nimport { makeLazyProps, useLazy } from '@/composables/lazy'\nimport { makeLocationStrategyProps, useLocationStrategies } from './locationStrategies'\nimport { makeScrollStrategyProps, useScrollStrategies } from './scrollStrategies'\nimport { makeThemeProps, provideTheme } from '@/composables/theme'\nimport { makeTransitionProps, MaybeTransition } from '@/composables/transition'\nimport { useBackButton, useRouter } from '@/composables/router'\nimport { useBackgroundColor } from '@/composables/color'\nimport { useProxiedModel } from '@/composables/proxiedModel'\nimport { useHydration } from '@/composables/hydration'\nimport { useRtl } from '@/composables/locale'\nimport { useScopeId } from '@/composables/scopeId'\nimport { useStack } from '@/composables/stack'\nimport { useTeleport } from '@/composables/teleport'\nimport { useToggleScope } from '@/composables/toggleScope'\n\n// Directives\nimport { ClickOutside } from '@/directives/click-outside'\n\n// Utilities\nimport {\n  animate,\n  convertToUnit,\n  genericComponent,\n  getScrollParent,\n  IN_BROWSER,\n  pick,\n  propsFactory,\n  standardEasing,\n  useRender,\n} from '@/util'\nimport {\n  computed,\n  mergeProps,\n  ref,\n  Teleport,\n  toHandlers,\n  toRef,\n  Transition,\n  watch,\n} from 'vue'\n\n// Types\nimport type { BackgroundColorData } from '@/composables/color'\nimport type { MakeSlots, SlotsToProps } from '@/util'\nimport type { ExtractPropTypes, PropType, Ref } from 'vue'\n\ninterface ScrimProps {\n  [key: string]: unknown\n  modelValue: boolean\n  color: BackgroundColorData\n}\nfunction Scrim (props: ScrimProps) {\n  const { modelValue, color, ...rest } = props\n  return (\n    <Transition name=\"fade-transition\" appear>\n      { props.modelValue && (\n        <div\n          class={[\n            'v-overlay__scrim',\n            props.color.backgroundColorClasses.value,\n          ]}\n          style={ props.color.backgroundColorStyles.value }\n          { ...rest }\n        />\n      )}\n    </Transition>\n  )\n}\n\nexport type OverlaySlots = MakeSlots<{\n  default: [{ isActive: Ref<boolean> }]\n  activator: [{ isActive: boolean, props: Record<string, any> }]\n}>\n\nexport const makeVOverlayProps = propsFactory({\n  absolute: Boolean,\n  attach: [Boolean, String, Object] as PropType<boolean | string | Element>,\n  closeOnBack: {\n    type: Boolean,\n    default: true,\n  },\n  contained: Boolean,\n  contentClass: null,\n  contentProps: null,\n  disabled: Boolean,\n  noClickAnimation: Boolean,\n  modelValue: Boolean,\n  persistent: Boolean,\n  scrim: {\n    type: [String, Boolean],\n    default: true,\n  },\n  zIndex: {\n    type: [Number, String],\n    default: 2000,\n  },\n\n  ...makeActivatorProps(),\n  ...makeDimensionProps(),\n  ...makeLazyProps(),\n  ...makeLocationStrategyProps(),\n  ...makeScrollStrategyProps(),\n  ...makeThemeProps(),\n  ...makeTransitionProps(),\n}, 'v-overlay')\n\nexport const VOverlay = genericComponent<new () => {\n  $props: SlotsToProps<OverlaySlots>\n}>()({\n  name: 'VOverlay',\n\n  directives: { ClickOutside },\n\n  inheritAttrs: false,\n\n  props: {\n    _disableGlobalStack: Boolean,\n\n    ...makeVOverlayProps(),\n  },\n\n  emits: {\n    'click:outside': (e: MouseEvent) => true,\n    'update:modelValue': (value: boolean) => true,\n    afterLeave: () => true,\n  },\n\n  setup (props, { slots, attrs, emit }) {\n    const model = useProxiedModel(props, 'modelValue')\n    const isActive = computed({\n      get: () => model.value,\n      set: v => {\n        if (!(v && props.disabled)) model.value = v\n      },\n    })\n    const { teleportTarget } = useTeleport(computed(() => props.attach || props.contained))\n    const { themeClasses } = provideTheme(props)\n    const { rtlClasses, isRtl } = useRtl()\n    const { hasContent, onAfterLeave } = useLazy(props, isActive)\n    const scrimColor = useBackgroundColor(computed(() => {\n      return typeof props.scrim === 'string' ? props.scrim : null\n    }))\n    const { globalTop, localTop, stackStyles } = useStack(isActive, toRef(props, 'zIndex'), props._disableGlobalStack)\n    const { activatorEl, activatorRef, activatorEvents, contentEvents, scrimEvents } = useActivator(props, { isActive, isTop: localTop })\n    const { dimensionStyles } = useDimension(props)\n    const isMounted = useHydration()\n    const { scopeId } = useScopeId()\n\n    watch(() => props.disabled, v => {\n      if (v) isActive.value = false\n    })\n\n    const root = ref<HTMLElement>()\n    const contentEl = ref<HTMLElement>()\n    const { contentStyles, updateLocation } = useLocationStrategies(props, {\n      isRtl,\n      contentEl,\n      activatorEl,\n      isActive,\n    })\n    useScrollStrategies(props, {\n      root,\n      contentEl,\n      activatorEl,\n      isActive,\n      updateLocation,\n    })\n\n    function onClickOutside (e: MouseEvent) {\n      emit('click:outside', e)\n\n      if (!props.persistent) isActive.value = false\n      else animateClick()\n    }\n\n    function closeConditional () {\n      return isActive.value && globalTop.value\n    }\n\n    IN_BROWSER && watch(isActive, val => {\n      if (val) {\n        window.addEventListener('keydown', onKeydown)\n      } else {\n        window.removeEventListener('keydown', onKeydown)\n      }\n    }, { immediate: true })\n\n    function onKeydown (e: KeyboardEvent) {\n      if (e.key === 'Escape' && globalTop.value) {\n        if (!props.persistent) {\n          isActive.value = false\n        } else animateClick()\n      }\n    }\n\n    const router = useRouter()\n    useToggleScope(() => props.closeOnBack, () => {\n      useBackButton(router, next => {\n        if (globalTop.value && isActive.value) {\n          next(false)\n          if (!props.persistent) isActive.value = false\n          else animateClick()\n        } else {\n          next()\n        }\n      })\n    })\n\n    const top = ref<number>()\n    watch(() => isActive.value && (props.absolute || props.contained) && teleportTarget.value == null, val => {\n      if (val) {\n        const scrollParent = getScrollParent(root.value)\n        if (scrollParent && scrollParent !== document.scrollingElement) {\n          top.value = scrollParent.scrollTop\n        }\n      }\n    })\n\n    // Add a quick \"bounce\" animation to the content\n    function animateClick () {\n      if (props.noClickAnimation) return\n\n      contentEl.value && animate(contentEl.value, [\n        { transformOrigin: 'center' },\n        { transform: 'scale(1.03)' },\n        { transformOrigin: 'center' },\n      ], {\n        duration: 150,\n        easing: standardEasing,\n      })\n    }\n\n    useRender(() => (\n      <>\n        { slots.activator?.({\n          isActive: isActive.value,\n          props: mergeProps({\n            ref: activatorRef,\n          }, toHandlers(activatorEvents.value), props.activatorProps),\n        }) }\n\n        { isMounted.value && (\n          <Teleport\n            disabled={ !teleportTarget.value }\n            to={ teleportTarget.value }\n          >\n            { hasContent.value && (\n              <div\n                class={[\n                  'v-overlay',\n                  {\n                    'v-overlay--absolute': props.absolute || props.contained,\n                    'v-overlay--active': isActive.value,\n                    'v-overlay--contained': props.contained,\n                  },\n                  themeClasses.value,\n                  rtlClasses.value,\n                ]}\n                style={[stackStyles.value, { top: convertToUnit(top.value) }]}\n                ref={ root }\n                { ...scopeId }\n                { ...attrs }\n              >\n                <Scrim\n                  color={ scrimColor }\n                  modelValue={ isActive.value && !!props.scrim }\n                  { ...toHandlers(scrimEvents.value) }\n                />\n                <MaybeTransition\n                  appear\n                  persisted\n                  transition={ props.transition }\n                  target={ activatorEl.value }\n                  onAfterLeave={() => { onAfterLeave(); emit('afterLeave') }}\n                >\n                  <div\n                    ref={ contentEl }\n                    v-show={ isActive.value }\n                    v-click-outside={{ handler: onClickOutside, closeConditional, include: () => [activatorEl.value] }}\n                    class={[\n                      'v-overlay__content',\n                      props.contentClass,\n                    ]}\n                    style={[\n                      dimensionStyles.value,\n                      contentStyles.value,\n                    ]}\n                    { ...toHandlers(contentEvents.value) }\n                    { ...props.contentProps }\n                  >\n                    { slots.default?.({ isActive }) }\n                  </div>\n                </MaybeTransition>\n              </div>\n            )}\n          </Teleport>\n        )}\n      </>\n    ))\n\n    return {\n      activatorEl,\n      animateClick,\n      contentEl,\n      globalTop,\n      localTop,\n      updateLocation,\n    }\n  },\n})\n\nexport type VOverlay = InstanceType<typeof VOverlay>\n\nexport function filterVOverlayProps (props: Partial<ExtractPropTypes<ReturnType<typeof makeVOverlayProps>>>) {\n  return pick(props, Object.keys(VOverlay.props) as any)\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}